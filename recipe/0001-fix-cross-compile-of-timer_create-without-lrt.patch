From 9680fa339e1a97e41d47ddc9d9f9ce2c73c71227 Mon Sep 17 00:00:00 2001
From: Brandon Maier <brandon.maier@gmail.com>
Date: Tue, 17 Dec 2024 12:10:22 -0600
Subject: [PATCH] fix cross-compile of timer_create without -lrt

---
 src/auto/configure | 2 +-
 src/configure.ac   | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/src/auto/configure b/src/auto/configure
index 062119e77..25edc83c2 100755
--- a/src/auto/configure
+++ b/src/auto/configure
@@ -14234,7 +14234,7 @@ fi
 if test "x$vim_cv_timer_create" = "xyes" ||
    test "x$vim_cv_timer_create_with_lrt" = "xyes"; then
   save_LIBS="$LIBS"
-  if test "x$vim_cv_timer_create_works" = "xyes" ; then
+  if test "x$vim_cv_timer_create_with_lrt" = "xyes" ; then
     LIBS="$LIBS -lrt"
   fi
 
diff --git a/src/configure.ac b/src/configure.ac
index 56895f66a..72287a713 100644
--- a/src/configure.ac
+++ b/src/configure.ac
@@ -3908,7 +3908,7 @@ dnl works, on Solaris timer_create() exists but fails at runtime.
 if test "x$vim_cv_timer_create" = "xyes" ||
    test "x$vim_cv_timer_create_with_lrt" = "xyes"; then
   save_LIBS="$LIBS"
-  if test "x$vim_cv_timer_create_works" = "xyes" ; then
+  if test "x$vim_cv_timer_create_with_lrt" = "xyes" ; then
     LIBS="$LIBS -lrt"
   fi
 
-- 
2.47.1

